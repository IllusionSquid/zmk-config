/*
 * Copyright (c) 2021 The ZMK Contributors
 *
 * SPDX-License-Identifier: MIT
 */

#include <behaviors.dtsi>
#include <dt-bindings/zmk/keys.h>

#define BASE 0
#define QWERTY 1
#define SPECIAL 2
#define FUNC 3
#define GAME 4

/ {
    combos {
        compatible = "zmk,combos";
        combo_qwerty {
            timeout-ms = <50>;
            key-positions = <15 33>;
            bindings = <&tog QWERTY>;
        };
        combo_game {
            timeout-ms = <50>;
            key-positions = <15 16 33 34>;
            bindings = <&tog GAME>;
        };
    };

	keymap {
		compatible = "zmk,keymap";

		// This is a sample keymap intended to be replaced with your own
		base_layer {
            // |    Q    |    W    |    F    |    P    |    B    |                                          |    J    |    L    |    U    |    Y    |    ;    |
            // |    A    |    R    |    S    |    T    |    G    |                                          |    M    |    N    |    E    |    I    |    O    |
            // |    Z    |    X    |    C    |    D    |    V    |                                          |    K    |    H    |    ,    |    .    |    /    |
            //                                    |   Tab   |  Space  |  Ctrl   |            |   Alt   |  BSPC   |  ENTER  |
			bindings = <
				&kp Q     &kp W     &kp F     &kp P     &kp B                               &kp J     &kp L     &kp U     &kp Y     &kp SEMI
				&mt LSHIFT A     &kp R     &kp S     &kp T     &kp G                               &kp M     &kp N     &kp E     &kp I     &mt RSHIFT O
				&kp Z     &kp X     &kp C     &kp D     &kp V                               &kp K     &kp H     &kp COMMA &kp DOT   &kp SLASH
				                              &kp TAB   &lt SPECIAL SPACE &kp LCTRL        &kp LALT &lt FUNC BSPC  &kp ENTER
			>;
		};

        qwerty_layer {
            // |    Q    |    W    |    E    |    R    |    T    |                                          |    Y    |    U    |    I    |    O    |    P    |
            // |    A    |    S    |    D    |    F    |    G    |                                          |    H    |    J    |    K    |    L    |    ;    |
            // |    Z    |    X    |    C    |    V    |    B    |                                          |    N    |    M    |    ,    |    .    |    /    |
            //                                    |         |         |         |            |         |         |         |
			bindings = <
				&kp Q     &kp W     &kp E     &kp R     &kp Y                               &kp Y     &kp U     &kp I     &kp O     &kp P
				&kp A     &kp S     &kp D     &kp F     &kp G                               &kp H     &kp J     &kp K     &kp L     &kp SEMI
				&kp Z     &kp X     &kp C     &kp V     &kp B                               &kp N     &kp M     &kp COMMA &kp DOT   &kp SLASH
				                              &trans    &trans    &trans          &trans    &trans    &trans
			>;
		};
        
        special_layer {
            // |         |         |    ~    |    `    |         |                                          |         |         |         |         |         |
            // |    !    |    @    |    (    |    )    |    *    |                                          |    =    |    {    |    }    |    [    |    ]    |
            // |    $    |    %    |    &    |    -    |         |                                          |    ^    |    +    |    _    |    |    |    \    |
            //                                    |   Tab   |  Space  |  SW15   |            |  SW33   |  BSPC   |  ENTER  |
			bindings = <
				&kp Q     &kp W     &kp F     &kp P     &kp B                       &kp J     &kp L     &kp U     &kp Y     &kp SEMI
				&kp A     &kp R     &kp S     &kp T     &kp G                       &kp M     &kp N     &kp E     &kp I     &kp O
				&kp Z     &kp X     &kp C     &kp D     &kp V                       &kp K     &kp H     &kp COMMA &kp DOT   &kp SLASH
				                              &kp TAB   &kp SPACE &kp E        &kp E &kp BSPC &kp ENTER
			>;
		};

        function_layer {
            // |         |         |         |   F11   |         |                                          |         |   F12   |         |         |         |
            // |    1    |    2    |    3    |    4    |    5    |                                          |    6    |    7    |    8    |    9    |    0    |
            // |   F1    |   F2    |   F3    |   F4    |   F5    |                                          |   F6    |   F7    |   F8    |   F9    |   F10   |
            //                                    |   Tab   |  Space  |  SW15   |            |  SW33   |  BSPC   |  ENTER  |
			bindings = <
				&kp Q     &kp W     &kp F     &kp P     &kp B                       &kp J     &kp L     &kp U     &kp Y     &kp SEMI
				&kp A     &kp R     &kp S     &kp T     &kp G                       &kp M     &kp N     &kp E     &kp I     &kp O
				&kp Z     &kp X     &kp C     &kp D     &kp V                       &kp K     &kp H     &kp COMMA &kp DOT   &kp SLASH
				                              &kp TAB   &kp SPACE &kp E        &kp E &kp BSPC &kp ENTER
			>;
		};

        game_layer {
            // |   Tab   |    Q    |    W    |    R    |    T    |                                          |         |   F12   |         |         |         |
            // |  SHIFT  |    A    |    S    |    D    |    F    |                                          |    6    |    7    |    8    |    9    |    0    |
            // |  Ctrl   |    Z    |    X    |    C    |    V    |                                          |   F6    |   F7    |   F8    |   F9    |   F10   |
            //                                    |   Alt   |  Space  |    G    |            |  SW33   |  BSPC   |  ENTER  |
			bindings = <
				&kp Q     &kp W     &kp F     &kp P     &kp B                       &kp J     &kp L     &kp U     &kp Y     &kp SEMI
				&kp A     &kp R     &kp S     &kp T     &kp G                       &kp M     &kp N     &kp E     &kp I     &kp O
				&kp Z     &kp X     &kp C     &kp D     &kp V                       &kp K     &kp H     &kp COMMA &kp DOT   &kp SLASH
				                              &kp LALT  &kp SPACE &kp G        &kp E &kp BSPC &kp ENTER
			>;
		};
	};
};